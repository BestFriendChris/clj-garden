add tests for new options
test untested functions

